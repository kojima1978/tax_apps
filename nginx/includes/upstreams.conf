# ============================================
# アップストリーム定義
# ============================================

# ポータル
upstream portal {
    server portal-app:3000;
    keepalive 32;
}

# 確定申告 必要書類
upstream tax-docs-frontend {
    server tax-docs-frontend:3000;
    keepalive 16;
}

upstream tax-docs-backend {
    server tax-docs-backend:3001;
    keepalive 16;
}

# 相続税案件管理
upstream itcm-frontend {
    server itcm-frontend:3020;
    keepalive 16;
}

upstream itcm-backend {
    server itcm-backend:3021;
    keepalive 16;
}

# その他アプリ
upstream medical-stock-valuation {
    server medical-stock-valuation:3010;
    keepalive 8;
}

upstream shares-valuation {
    server shares-valuation:3012;
    keepalive 8;
}

upstream inheritance-tax-app {
    server inheritance-tax-app:5173;
    keepalive 8;
}

upstream bank-analyzer {
    server bank-analyzer:8000;
    keepalive 8;
}

upstream gift-tax-simulator {
    server gift-tax-simulator:3001;
    keepalive 8;
}

upstream gift-tax-docs {
    server gift-tax-docs:3002;
    keepalive 8;
}

upstream inheritance-tax-docs {
    server inheritance-tax-docs:3003;
    keepalive 8;
}
