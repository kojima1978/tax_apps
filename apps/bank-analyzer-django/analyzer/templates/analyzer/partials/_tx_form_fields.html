{# å–å¼•ãƒ•ã‚©ãƒ¼ãƒ ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å…±é€špartial #}
{# Parameters: id_prefix ("modal" or "add"), show_name (True/False) #}

<div class="row g-2 mb-3">
    <div class="col-3">
        <label class="form-label">éŠ€è¡Œå</label>
        <select {% if show_name %}name="bank_name"{% endif %} class="form-select form-select-sm" id="{{ id_prefix }}TxBankName">
            <option value="">-- é¸æŠ --</option>
            {% for bank in banks %}
            <option value="{{ bank }}">{{ bank }}</option>
            {% endfor %}
        </select>
    </div>
    <div class="col-3">
        <label class="form-label">æ”¯åº—å</label>
        <select {% if show_name %}name="branch_name"{% endif %} class="form-select form-select-sm" id="{{ id_prefix }}TxBranchName">
            <option value="">-- é¸æŠ --</option>
            {% for branch in branches %}
            <option value="{{ branch }}">{{ branch }}</option>
            {% endfor %}
        </select>
    </div>
    <div class="col-3">
        <label class="form-label">ç¨®åˆ¥</label>
        <input type="text" {% if show_name %}name="account_type"{% endif %} id="{{ id_prefix }}TxAccountType" class="form-control form-control-sm" placeholder="æ™®é€šé é‡‘ç­‰">
    </div>
    <div class="col-3">
        <label class="form-label">å£åº§ç•ªå·</label>
        <select {% if show_name %}name="account_id"{% endif %} class="form-select form-select-sm" id="{{ id_prefix }}TxAccountId">
            <option value="">-- é¸æŠ --</option>
            {% for acc in accounts %}
            <option value="{{ acc }}">{{ acc }}</option>
            {% endfor %}
        </select>
    </div>
</div>

<div class="mb-3">
    <label class="form-label">æ—¥ä»˜</label>
    <input type="date" {% if show_name %}name="date"{% endif %} id="{{ id_prefix }}TxDate" class="form-control" required>
</div>

<div class="mb-3">
    <label class="form-label">æ‘˜è¦</label>
    <input type="text" {% if show_name %}name="description"{% endif %} id="{{ id_prefix }}TxDescription" class="form-control" placeholder="{{ desc_placeholder|default:'' }}">
</div>

<div class="row g-2 mb-3">
    <div class="col-4">
        <label class="form-label">æ‰•æˆ»ï¼ˆå‡ºé‡‘ï¼‰</label>
        <input type="number" {% if show_name %}name="amount_out"{% endif %} id="{{ id_prefix }}TxAmountOut" class="form-control" {% if not show_name %}value="0"{% endif %}>
    </div>
    <div class="col-4">
        <label class="form-label">ãŠé ã‚Šï¼ˆå…¥é‡‘ï¼‰</label>
        <input type="number" {% if show_name %}name="amount_in"{% endif %} id="{{ id_prefix }}TxAmountIn" class="form-control" {% if not show_name %}value="0"{% endif %}>
    </div>
    <div class="col-4">
        <label class="form-label">æ®‹é«˜</label>
        <input type="number" {% if show_name %}name="balance"{% endif %} id="{{ id_prefix }}TxBalance" class="form-control">
    </div>
</div>

<div class="mb-3">
    <label class="form-label">åˆ†é¡</label>
    <div class="input-group">
        <select {% if show_name %}name="category"{% endif %} class="form-select" id="{{ id_prefix }}TxCategory">
            {% for cat in categories %}
            <option value="{{ cat }}" {% if not show_name and cat == 'æœªåˆ†é¡' %}selected{% endif %}>{{ cat }}</option>
            {% endfor %}
        </select>
        {% if show_name %}
        <button type="button" class="btn btn-outline-secondary" id="{{ id_prefix }}AddPatternBtn"
            onclick="openPatternAddFromModal('{{ id_prefix }}')" title="ã“ã®åˆ†é¡ã«ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’è¿½åŠ ">
            <i class="bi bi-plus-lg"></i> ãƒ‘ã‚¿ãƒ¼ãƒ³ç™»éŒ²
        </button>
        {% endif %}
    </div>
</div>

<div class="mb-3">
    <label class="form-label">ğŸ“ ãƒ¡ãƒ¢</label>
    <textarea {% if show_name %}name="memo"{% endif %} id="{{ id_prefix }}TxMemo" class="form-control" rows="{{ memo_rows|default:3 }}" placeholder="{{ memo_placeholder|default:'ãƒ¡ãƒ¢ï¼ˆä»»æ„ï¼‰' }}"></textarea>
</div>
